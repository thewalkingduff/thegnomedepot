<div th:insert="fragments/header-checkout :: header-checkout"></div>
<nav class="navbar-checkout" >
  <div class="logo-container" style="margin-left: 2.5rem;">
      <a class="" th:href="@{/}">
          <img th:src="@{../img/navbar/gnome-depot-logo.png}" alt="home depot square orange logo"
              id="gnome-logo">
      </a>
  </div>  
  <div th:object="${totalProductsInCart}">
    <h1 style="text-align: center;" class="checkout-header">Checkout (<span class="teal-text" th:text="${totalProductsInCart + ' Items' }"></span>)</h1>
  </div>
  <div class="lock-icon-div">
    <i class="fas fa-lock"></i>
  </div>   
</nav>
<main class="cart-main-container">
  <section class="cart-image-details-container">
      <div class="cart-header-price-container">
          <div class="cart-header">
              <div class="shipping-container" th:object="${user}">
                <div class="shipping-container-div">
                  <h5 class="cart-header-text">1    Shipping Address</h5>
                </div>
                <div class="user-address-container">
                  <p class="user-shipping-text" th:text="${user.firstName} + ' ' + ${user.lastName}"></p>
                  <p class="user-shipping-text" th:text="${user.address1}"></p>
                  <p class="user-shipping-text" th:text="${user.city} + ', ' + ${user.state} + ' ' + ${user.postalCode}"></p>
                </div>
                  
              </div>

          </div>
          <div class="payment-container">
              <h5 class="cart-price-header">2   Payment Method</h5>
          </div>
      </div>
      <hr>
      <form method="post" th:object="${cartItem}" th:action="@{/cart}" th:each="od: ${orderDetails}">
          <div class="cart-image-details-price-container">
              <div>
                  <img th:src="${od.product.image}" alt="" width="180px">
              </div>

              <div class="cart-product-list">
                  <input type="hidden" th:name="id" th:value="${od.id}" />
                  <div>
                      <a th:href="@{/product/details(id = ${od.product.id})}" class="light-black-text">
                          <span th:utext="${od.product.name}"></span>
                      </a>
                  </div>
                  <p class="in-stock-text">In Stock</p>
                  <div class="cart-quantity-container">
                      <select th:name="quantity" th:value="${od.quantity}" onchange="this.form.submit()">
                          <option th:value="${od.quantity}" th:text="${od.quantity}" selected></option>
                          <option th:each="i : ${#numbers.sequence(0, 20)}" th:value="${i}" th:text="${i}">
                          </option>
                      </select>
                      <div>
                          <i class="icon-text-separator" role="img" aria-label="|"></i>
                          <a th:href="@{/cart/remove(id=${od.id})}" class="teal-text">
                              Delete
                          </a>
                      </div>
                  </div>
                  
              </div>
              <div class="price-column-container">
                  <span class="subtotal-price-text" th:utext="${#numbers.formatCurrency(od.total)}">
                  </span>
              </div>
          </div>
      </form>
      <hr>
  </section>
  <section class="checkout-button-subtotal-container">
      <div class="justify-items-start">
          <div>
              <h6 class="subtotal-text">Subtotal: <span th:text=" '(' + ${totalProductsInCart} + ' items): '"></span>
                  <span th:text="${#numbers.formatCurrency(orderTotal)}" class="subtotal-price-text">

                  </span>
              </h6>
          </div>
          <div>
              <a th:href="@{/order/checkout}" class="checkout-btn">Proceed to checkout</a>
          </div>
      </div>

  </section>

</main>


<div th:insert="fragments/footer :: footer"></div>